
# Substrate Permittivity Extraction Using Ring Resonator

This repository provides a Python-based tool and design assets for extracting the substrate dielectric constant (ε<sub>r</sub>) from S-parameter measurements of a microstrip ring resonator.

📡 **Purpose**: Characterize PCB materials (e.g., FR4, Rogers) using VNA measurements and resonator geometry.

---

## 📂 Repository Contents

```
substrate-permittivity-extraction-ring-resonator/
├── ring_resonator_dielectric.py     # Python script for permittivity extraction
├── example/
│   ├── ring.s2p                      # Sample S2P data (VNA export)
│   ├── design.kicad_pcb              # Ring layout (KiCad, DXF, or Gerber)
│   └── result.csv                    # Output: frequency vs ε_eff and ε_r
├── paper/
│   └── dielectric_extraction_note.pdf  # Supporting paper or technical note
├── figures/
│   └── example_plot.png              # Example plot generated by the script
├── requirements.txt                 # Python dependencies
└── README.md
```

---

## 🧮 Method Overview

A microstrip ring resonator supports full-wave resonance at frequencies:

\\[
f_n = \frac{c \cdot n}{L \sqrt{\varepsilon_e}} \Rightarrow \varepsilon_e = \left(\frac{c \cdot n}{f_n L}\right)^2
\\]

From the extracted effective permittivity (ε<sub>e</sub>), the substrate permittivity (ε<sub>r</sub>) is calculated using an inverted microstrip model:

\\[
\varepsilon_r = \frac{2\varepsilon_e + a - 1}{1 + a}, \quad \text{where } a = \frac{1}{\sqrt{1 + 12H/W}}
\\]

---

## ▶️ How to Use

### 1. Install Dependencies

```bash
pip install -r requirements.txt
```

### 2. Configure and Run the Script

Edit the parameters in the `ring_resonator_dielectric.py` file under the CONFIG section:

```python
S2P_FILE       = "example/ring.s2p"
RING_LENGTH_MM = 100.0
SUBSTRATE_H_MM = 0.8
TRACE_W_MM     = 1.5
```

Run the script:

```bash
python ring_resonator_dielectric.py
```

### 3. Output

- Table of resonance modes and extracted permittivities
- Optional CSV file with numerical results
- Optional plots showing |S21| peaks and ε<sub>e</sub>, ε<sub>r</sub> vs frequency

---

## 📘 Citation

If you use this repository or script in your academic work, please consider citing the included paper or referencing this repository.

---

## 📎 License

This project is released under the MIT License.
